(this.webpackJsonpwebchat=this.webpackJsonpwebchat||[]).push([[0],{30:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(13),c=a.n(n),s=a(22),i=a.n(s),r=(a(30),a(23)),o=a(14),l=a(24),u=(a(37),l.a.initializeApp({apiKey:"AIzaSyBuie2rXE0KGDX6CErrNsvqiaQU8s8m0_s",authDomain:"react-webchat-d1f05.firebaseapp.com",projectId:"react-webchat-d1f05",storageBucket:"react-webchat-d1f05.appspot.com",messagingSenderId:"402798180842",appId:"1:402798180842:web:b3b0713dece228651bda93",measurementId:"G-H03LY5R678"})),b=(a(34),a(5));var d=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],s=c.a.useState(""),i=Object(o.a)(s,2),l=i[0],d=i[1],h=c.a.useState([]),m=Object(o.a)(h,2),j=m[0],p=m[1],v=c.a.useState(localStorage.getItem("chatId")||null),f=Object(o.a)(v,2),g=f[0],x=f[1];console.log(j),c.a.useEffect((function(){g&&u.database().ref("/messages/".concat(g)).on("value",(function(e){var t=e.val();if(null!==t){var a=Object.keys(t).map((function(e){return Object(r.a)({},t[e])}));a.sort((function(e,t){return e.timestamp-t.timestamp})),p(a)}}))}),[g]);var w=function(e){if(e||""!==e){var t={message:e,timestamp:(new Date).getTime(),type:"sender"};d(""),p(j.concat(t)),O(t)}},O=function(e){if(g){u.database().ref("/messages/".concat(g)).push().set(e)}else{var t=u.database().ref("/messages").push();t.set({intro:e}).then((function(){localStorage.setItem("chatId",t.key),x(t.key)}))}};return Object(b.jsxs)("div",{className:"webchat-app",children:[a&&Object(b.jsxs)("div",{className:"card webchat-card",children:[Object(b.jsxs)("div",{className:"webchat-head",children:[Object(b.jsxs)("div",{className:"webchat-head-text",children:[Object(b.jsx)("h5",{className:"card-title webchat-title",children:"Hubungi Kami"}),Object(b.jsx)("p",{className:"card-title webchat-sub-title",children:"Halo bro kalo kamu ada kesusahan boleh tanya langsung ke kami."})]}),Object(b.jsx)("span",{className:"close-toggle",onClick:function(){return n(!1)},children:"x"})]}),Object(b.jsxs)("div",{className:"webchat-body",children:[Object(b.jsxs)("div",{className:"webchat-body-text",children:[0===(null===j||void 0===j?void 0:j.length)&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{className:"text-center",children:"How may we assist you?"}),["I have a pricing question","I have a question about Enterprise","I have a question about Subscription"].map((function(e,t){return Object(b.jsx)("div",{className:"d-flex justify-content-center m-1",children:Object(b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return w(e)},children:e})},t)}))]}),(null===j||void 0===j?void 0:j.length)>=1&&(null===j||void 0===j?void 0:j.map((function(e,t){return Object(b.jsx)("div",{className:("sender"===(null===e||void 0===e?void 0:e.type)?"justify-content-end":"justify-content-start")+" d-flex m-1",children:Object(b.jsx)("button",{type:"button",className:("sender"===(null===e||void 0===e?void 0:e.type)?"btn-primary":"btn-light")+" btn",children:null===e||void 0===e?void 0:e.message})},t)})))]}),Object(b.jsx)("input",{className:"webchat-input",placeholder:"Ask a question...",value:l,onChange:function(e){return d(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&w(l)}})]})]}),!a&&Object(b.jsx)("button",{type:"button",className:"btn btn-primary btn-togle",onClick:function(){return n(!0)},children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-chat-dots",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{d:"M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}),Object(b.jsx)("path",{d:"m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"})]})})]})},h=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,38)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(d,{})}),document.getElementById("webchat-here")),h()}},[[36,1,2]]]);
//# sourceMappingURL=main.a9e486ae.chunk.js.map